<div class="customer-container">
  <h2>Kundenliste</h2>

  <div class="filter-panel">
    <input type="text" placeholder="Kundennummer" [(ngModel)]="filter.customerId" />
    <input type="text" placeholder="Nachname" [(ngModel)]="filter.lastName" />
    <input type="text" placeholder="E-Mail" [(ngModel)]="filter.email" />
    <input type="text" placeholder="Stadt" [(ngModel)]="filter.city" />
    <select [(ngModel)]="filter.newsletter">
      <option value="">Alle</option>
      <option value="true">Newsletter: Ja</option>
      <option value="false">Newsletter: Nein</option>
    </select>
    <button class="btn-filter" (click)="applyFilter()">Filter anwenden</button>
    <button class="btn-reset" (click)="resetFilter()">Zur√ºcksetzen</button>
  </div>

  <div class="actions">
    <button class="btn-export-csv" (click)="exportCsv()">CSV exportieren</button>
    <button class="btn-export-json" (click)="exportJson()">JSON exportieren</button>
    <button class="btn-export-xml" (click)="exportXml()">XML exportieren</button>
  </div>

  <table class="customer-table">
  <thead>
    <tr>
      <th>ID</th>
      <th>Vorname</th>
      <th>Nachname</th>
      <th>Email</th>
      <th>Telefon</th>
      <th>Adresse</th>
      <th>Newsletter</th>
      <th>Aktionen</th>
    </tr>
  </thead>
  <tbody>
    @for (customer of customers$ | async; track customer.customerId) {
      <tr>
        <td>{{ customer.customerId }}</td>
        <td>{{ customer.firstName }}</td>
        <td>{{ customer.lastName }}</td>
        <td>{{ customer.email }}</td>
        <td>{{ customer.phoneNumber || '-' }}</td>
        <td>
          {{ customer.street || '-' }}, 
          {{ customer.zipCode || '-' }} 
          {{ customer.city || '-' }}
        </td>
        <td>
          <span [class]="customer.newsletter ? 'badge-yes' : 'badge-no'">
            {{ customer.newsletter ? 'Ja' : 'Nein' }}
          </span>
        </td>
        <td class="actions-cell">
          <button class="btn-edit" (click)="editCustomerClick(customer.customerId)">
            ‚úèÔ∏è Bearbeiten
          </button>
          <button class="btn-delete" (click)="deleteCustomer(customer.customerId)">
            üóëÔ∏è L√∂schen
          </button>
        </td>
      </tr>
    }
  </tbody>
</table>

  @if ((customers$ | async)?.length === 0) {
    <div class="no-data"><p>Keine Kunden gefunden.</p></div>
  }
</div>
